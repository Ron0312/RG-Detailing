---
import { services } from '../data/services';
import { getImage } from 'astro:assets';
import remoImage from '../assets/certificates/remo-steam-cleaning.jpg';
import projectImage from '../assets/gallery/fahrzeugaufbereitung-tensfeld-keramikversiegelung-03.jpg';

const optimizedRemo = await getImage({src: remoImage, format: 'jpg', width: 800});
const optimizedProject = await getImage({src: projectImage, format: 'jpg', width: 1200});
const domain = "https://rg-detailing.de";
---
<script type="application/ld+json" set:html={JSON.stringify({
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "AutoDetailing",
      "@id": "https://rg-detailing.de/#localBusiness",
      "name": "RG Detailing",
      "image": "https://rg-detailing.de/logo.png",
      "founder": {
        "@type": "Person",
        "name": "Remo Gerhardt",
        "jobTitle": "Inhaber & Detailer",
        "image": `${domain}${optimizedRemo.src}`,
        "sameAs": [
            "https://www.instagram.com/rg_detailing",
            "https://www.facebook.com/rgdetailing"
        ]
      },
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Dorfstraße 11",
        "addressLocality": "Tensfeld",
        "postalCode": "23824",
        "addressCountry": "DE"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 54.04500,
        "longitude": 10.31917
      },
      "url": "https://rg-detailing.de",
      "telephone": "+491633845081",
      "email": "kontakt@rg-detailing.de",
      "sameAs": [
        "https://www.instagram.com/rg_detailing",
        "https://www.facebook.com/rgdetailing",
        "https://open.spotify.com/show/63m3iI02yHqeENGb2CtBwa",
        "https://www.youtube.com/channel/UC-_u0Tc9YmcniT7Q93XPRwg"
      ],
      "hasMap": "https://www.google.com/maps/search/?api=1&query=RG+Detailing+Tensfeld",
      "paymentAccepted": "Cash, Credit Card, Invoice",
      "currenciesAccepted": "EUR",
      "areaServed": [
        { "@type": "City", "name": "Tensfeld" },
        { "@type": "City", "name": "Bad Segeberg" },
        { "@type": "City", "name": "Wahlstedt" },
        { "@type": "City", "name": "Neumünster" },
        { "@type": "City", "name": "Bornhöved" },
        { "@type": "City", "name": "Lübeck" },
        { "@type": "City", "name": "Kiel" },
        {
            "@type": "GeoCircle",
            "geoMidpoint": {
                "@type": "GeoCoordinates",
                "latitude": 54.04500,
                "longitude": 10.31917
            },
            "geoRadius": "40000"
        }
      ],
      "priceRange": "€€-€€€",
      "openingHoursSpecification": [
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
          "opens": "09:00",
          "closes": "18:00"
        },
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": ["Saturday"],
          "opens": "10:00",
          "closes": "14:00"
        }
      ],
      "hasCredential": [
        {
          "@type": "EducationalOccupationalCredential",
          "name": "Certified Labocosmetica Detailer"
        },
        {
          "@type": "EducationalOccupationalCredential",
          "name": "Dampftec Partner"
        }
      ]
    },
    {
      "@type": "Product",
      "name": "Premium Fahrzeugaufbereitung & Keramikversiegelung",
      "description": "High-End Lackveredelung und zertifizierte Keramikversiegelung in Schleswig-Holstein. Professionelle Aufbereitung für Enthusiasten.",
      "image": `${domain}${optimizedProject.src}`,
      "brand": {
        "@id": "https://rg-detailing.de/#localBusiness"
      },
      "offers": {
        "@type": "AggregateOffer",
        "url": "https://rg-detailing.de/#prices",
        "priceCurrency": "EUR",
        "lowPrice": "125",
        "offerCount": services.length
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": 5.0,
        "reviewCount": 47
      }
    }
  ]
})} />
{/* Additional Schema for Podcast/Author if needed separately, but sameAs handles it well in LocalBusiness */}
