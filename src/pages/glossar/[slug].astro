---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';
import Breadcrumbs from '../../components/Breadcrumbs.astro';
import ScrollProgress from '../../components/ScrollProgress.jsx';

export const prerender = true;

export async function getStaticPaths() {
  const glossaryEntries = await getCollection('glossary');
  return glossaryEntries.map(entry => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Layout title={`${entry.data.title} - Glossar | RG Detailing`} description={entry.data.description}>
    <ScrollProgress client:load />
    <div class="container mx-auto px-4 py-32">
        <Breadcrumbs crumbs={[
            { label: 'Startseite', href: '/' },
            { label: 'Glossar', href: '/glossar' },
            { label: entry.data.title, href: `/glossar/${entry.slug}` }
        ]} />

        <article class="max-w-3xl mx-auto mt-12">
            <header class="mb-12 text-center">
                <span class="inline-block py-1 px-3 rounded-full bg-red-900/20 text-red-500 text-xs font-bold tracking-wider mb-6 uppercase border border-red-500/20">
                    {entry.data.category}
                </span>
                <h1 class="text-4xl md:text-5xl font-bold text-white mb-6">{entry.data.title}</h1>
                <p class="text-xl text-zinc-400 leading-relaxed">{entry.data.description}</p>
            </header>

            <div class="prose prose-invert prose-lg mx-auto bg-zinc-900/30 p-8 md:p-12 rounded-3xl border border-white/5">
                <Content />
            </div>

            <div class="mt-12 text-center">
                 <a href="/glossar" class="text-zinc-500 hover:text-white transition-colors underline decoration-zinc-700 underline-offset-4">Zurück zur Übersicht</a>
            </div>
        </article>
    </div>
</Layout>
